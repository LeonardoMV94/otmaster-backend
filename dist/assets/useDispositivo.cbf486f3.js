import{c8 as l,ca as d,cb as p,V as v}from"./index.5404b0db.js";import{c as a}from"./Notifications.cd9f2894.js";const n=l(),r=d("Dispositivos",{state:()=>({dispositivos:[],dispositivo:{}}),getters:{getDispositivos:s=>s.dispositivos,getDispositivo:s=>s.dispositivo,getOnlyIdDispositivos:s=>s.dispositivos.map(o=>o.id_dispositivo)},actions:{async getAllDispositivos(){const s=await n.getToken;if(s=="")return this.dispositivos;const{data:o}=await p.get("/dispositivos/",{headers:{Authorization:`Bearer ${s}`}});console.log("getAllDispositivos ACTIONS: ",o),this.dispositivos=o},async getTDById(s){const o=await n.getToken,{data:i}=await p.get(`/dispositivos/${s}`,{headers:{Authorization:`Bearer ${o}`}});console.log(i),this.dispositivo=i},async createDispositivo(s){const o=await n.getToken;await p.post("/dispositivos/add/",s,{headers:{Authorization:`Bearer ${o}`}}).then(i=>{a(`Dispositivo ${i.data.id_dispositivo} creado exitosamente!`,"positive"),console.log(i)}).catch(i=>{a(i.response.data.errors[0].message,"negative"),console.log("Error",i.response.data.message)}),this.getAllDispositivos()},async updateDispositivo(s,o){const i=await n.getToken;console.log("updateDispositivo actions:",s,o),await p.put(`dispositivos/update/${s}`,o,{headers:{Authorization:`Bearer ${i}`}}).then(e=>{a(`Tipo Dispositivo ${e.data.id_rol} actualizado exitosamente!`,"positive"),console.log(e)}).catch(e=>{a(e.response.data.errors[0].message,"negative"),console.log("Error",e.response.data.message)}),this.getAllDispositivos()},async deleteDispositivo(s){const o=await n.getToken;await p.delete(`dispositivos/delete/${s}`,{headers:{Authorization:`Bearer ${o}`}}).then(({data:i})=>{a(`Tipo Dispositivo ${i} eliminado exitosamente!`,"positive"),this.roles=this.roles.filter(e=>e.id_dispositivo!==s),console.log("deleteDispositivo ACTIONS: ",i)}).catch(i=>{console.log("deleteDispositivo ACTIONS: ",i.response.data.message),a(i.response.data.message,"negative"),console.log("Error",i.response.data.message)}),this.getAllDispositivos()}}}),y=()=>{const s=r();return{getAllDispositivos:async()=>{await s.getAllDispositivos()},getDispositivoById:async t=>{await s.getTDById(t)},createDispositivo:async t=>{console.log("createDispositivo ",t),await s.createDispositivo(t)},updateDispositivo:async(t,c)=>{console.log("updateDispositivo",t,c),await s.updateDispositivo(t,c)},deleteDispositivo:async t=>{console.log("deleteDispositivo useDispositivo: ",t),await s.deleteDispositivo(t)},getDispositivos:v(()=>s.getDispositivos),getDispositivo:v(()=>s.getDispositivo),getOnlyIdDispositivos:v(()=>s.getOnlyIdDispositivos)}};export{y as u};
