import{b as p,Q as _}from"./QItem.80c15471.js";import{ce as D,ap as A,ao as B,n as l,aA as N,Y as U,a4 as e,b3 as o,Z as t,z as m,bR as v,co as j,bS as R,ck as q,aD as E,aB as O,a3 as f}from"./index.8134a439.js";import{i as b}from"./ClosePopup.48428423.js";import{Q as z}from"./QForm.303b8e08.js";import{u as M}from"./useCliente.19dcbd04.js";import{u as Y}from"./useColaboradores.4a38c497.js";import{u as Z}from"./useDispositivo.4ee18784.js";import{u as G}from"./useTickets.8b6fe3b0.js";import"./Notifications.7dc39251.js";const H=i=>(E("data-v-03dd279e"),i=i(),O(),i),J={style:{width:"700px","max-width":"80vw"}},K=H(()=>t("h4",{class:"text-center"},"Crear Ticket (OT)",-1)),L={class:"row"},P={class:"col"},W=f(" No hay Clientes "),X={class:"row"},$={class:"col"},ee=f(" No hay colaboradores "),oe={class:"row"},te={class:"col"},ae=f(" No hay dispositivos "),se={class:"row"},le={class:"col"},ie={class:"row justify-center"},ne={__name:"FormTicket",setup(i){const{getAllClientes:k,getClientesSelect:y}=M(),{getAllColaboradores:w,getColaboradoresSelect:V}=Y(),{getAllDispositivos:g,getDispositivosSelect:C}=Z(),{createTicket:x}=G();A(async()=>{await h()}),B(async()=>{await h()});const h=async()=>{await k(),await w(),await g()},Q=y.value,n=l(null),S=V.value,r=l(null),c=l(null),I=C.value,d=l(null),T=l(1),F=async()=>{const u={clientesRutCliente:n.value,colaboradoresRutColaborador:r.value,dispositivosIdDispositivo:c.value,problema_ticket:d.value,estado_ticket:T.value};await x(u)};return(u,a)=>(N(),U("div",J,[e(q,{class:"q-pa-sm"},{default:o(()=>[K,e(z,{onSubmit:F},{default:o(()=>[t("div",L,[t("div",P,[e(b,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=s=>n.value=s),outlined:"","use-input":"","input-debounce":"0",label:"Elija un cliente",options:m(Q),behavior:"menu",onFilter:u.filterFn},{"no-option":o(()=>[e(p,null,{default:o(()=>[e(_,{class:"text-grey"},{default:o(()=>[W]),_:1})]),_:1})]),append:o(()=>[e(v,{name:"person",color:"black"})]),_:1},8,["modelValue","options","onFilter"])])]),t("div",X,[t("div",$,[e(b,{modelValue:r.value,"onUpdate:modelValue":a[1]||(a[1]=s=>r.value=s),outlined:"","use-input":"","input-debounce":"0",label:"Colaborador que atiende",options:m(S),behavior:"menu"},{"no-option":o(()=>[e(p,null,{default:o(()=>[e(_,{class:"text-grey"},{default:o(()=>[ee]),_:1})]),_:1})]),append:o(()=>[e(v,{name:"support_agent",color:"black"})]),_:1},8,["modelValue","options"])])]),t("div",oe,[t("div",te,[e(b,{modelValue:c.value,"onUpdate:modelValue":a[2]||(a[2]=s=>c.value=s),outlined:"","use-input":"","input-debounce":"0",label:"Dispositivo a reparar",options:m(I),behavior:"menu"},{"no-option":o(()=>[e(p,null,{default:o(()=>[e(_,{class:"text-grey"},{default:o(()=>[ae]),_:1})]),_:1})]),append:o(()=>[e(v,{name:"devices_other",color:"black"})]),_:1},8,["modelValue","options"])])]),t("div",se,[t("div",le,[e(j,{modelValue:d.value,"onUpdate:modelValue":a[3]||(a[3]=s=>d.value=s),label:"Describa el problema... *",type:"textarea",outlined:""},null,8,["modelValue"])])]),t("div",ie,[e(R,{label:"Agregar",type:"submit",color:"primary"})])]),_:1})]),_:1})]))}};var fe=D(ne,[["__scopeId","data-v-03dd279e"]]);export{fe as default};
