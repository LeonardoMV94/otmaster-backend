var B=Object.defineProperty;var f=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var b=(e,o,t)=>o in e?B(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,w=(e,o)=>{for(var t in o||(o={}))N.call(o,t)&&b(e,t,o[t]);if(f)for(var t of f(o))T.call(o,t)&&b(e,t,o[t]);return e};import{c8 as M,cb as Q,cc as _,V,ce as y,n as p,aA as x,Y as A,a4 as l,b3 as i,Z as d,cf as I,bR as S,bS as h,cg as $,aD as C,aB as q,K as F}from"./index.b87efa9c.js";import{Q as z,a as P}from"./QTable.f511fa1b.js";import{Q as D}from"./QForm.4d1a6ee1.js";import{c as g}from"./Notifications.79b82ee7.js";import"./QItem.18e3eea6.js";const v=M(),E=Q("repuestos",{state:()=>({repuestos:[]}),getters:{getRepuestos:e=>e.repuestos},actions:{async getAllRepuestos(){const e=await v.getToken;if(e=="")return this.repuestos;const{data:o}=await _.get("/repuestos/",{headers:{Authorization:`Bearer ${e}`}});console.log("getAllMarcaDispositivos ACTIONS: ",o),this.repuestos=o},async createRepuesto(e){console.log("createRepuesto: ",e);const o=v.getToken;await _.post("/repuestos/add/",e,{headers:{Authorization:`Bearer ${o}`}}).then(t=>{g(`Repuesto ${t.data.id_repuesto} creado exitosamente!`,"positive"),console.log(t)}).catch(t=>{g(t.response.data.message,"negative"),console.log("Error",t.response.data.message)}),this.getAllRepuestos()},async deleteRepuesto(e){const o=v.getToken;await _.delete(`repuestos/delete/${e}`,{headers:{Authorization:`Bearer ${o}`}}).then(({data:t})=>{g(`Repuesto ${t.id} eliminado exitosamente!`,"negative"),console.log("antes ",this.repuestos),this.repuestos=this.repuestos.filter(a=>a.id_repuesto!==e),console.log("despues",this.repuestos),console.log("deleteRepuesto ACTIONS: ",t)}).catch(t=>{console.log("deleteRepuesto ACTIONS: ",t.response.data.message),g(t.response.data.message,"negative"),console.log("Error",t.response.data.message)})}}}),O=()=>{const e=E();return{getAllRepuestos:async()=>{await e.getAllRepuestos()},getRepuestoById:async s=>{await e.getRepuestoById(s)},createNewRepuesto:async s=>{console.log("createRepuesto ",s),await e.createRepuesto(s)},updateRepuesto:async(s,m)=>{console.log("updateRepuesto",s,m),await e.updateRepuesto(s,m)},deleteRepuesto:async s=>{console.log("deleteRepuesto useRepuesto: ",s),await e.deleteRepuesto(s)},getRepuestos:V(()=>e.getRepuestos)}};const U=e=>(C("data-v-0cc88ff8"),e=e(),q(),e),K={class:"q-pa-xl",style:{"max-width":"700px"}},Y=U(()=>d("h4",{class:"text-center"},"Administraci\xF3n de Repuestos",-1)),Z={class:"row"},j={class:"col"},G={class:"row justify-center"},H={__name:"FormRepuesto",setup(e){const o=p(null),{createNewRepuesto:t}=O(),a=()=>{console.log("Se envi\xF3 prueba de formulario");const u={repuesto:o.value};t(u)};return(u,n)=>(x(),A("div",K,[Y,l($,{class:"q-pa-md"},{default:i(()=>[l(D,{onSubmit:a},{default:i(()=>[d("div",Z,[d("div",j,[l(I,{modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=s=>o.value=s),"label-color":"primary",outlined:"",label:"Nombre del Repuesto","lazy-rules":"",counter:"",clearable:"",rules:[s=>!!s||"Se requiere que escriba un repuesto",s=>s.length<=25||"M\xE1ximo 25 car\xE1cteres",s=>s.length>=4||"M\xEDnimo 4 car\xE1cteres"]},{append:i(()=>[l(S,{name:"build_circle",color:"black"})]),_:1},8,["modelValue","rules"])])]),d("div",G,[l(h,{label:"Agregar",type:"submit",color:"primary"})])]),_:1})]),_:1})]))}};var J=y(H,[["__scopeId","data-v-0cc88ff8"]]);const L={class:"q-pa-xl",style:{"max-width":"700px"}},W={__name:"RepuestosPage",setup(e){const o=[{name:"idRepuesto",required:!0,label:"ID",align:"center",field:r=>r.idRepuesto,format:r=>`${r}`,sortable:!0},{name:"nombreRepuesto",align:"center",label:"Nombre del Repuesto",field:"nombreRepuesto",sortable:!0}],t=[{idRepuesto:"122",nombreRepuesto:"Pantalla de Touch ID"},{idRepuesto:"313",nombreRepuesto:"Bater\xEDa Samsung"}],a=p(!1),u=p(""),n=p(10),s=p([...t]),m=()=>{a.value=!0,setTimeout(()=>{const r=Math.floor(Math.random()*(s.value.length+1)),c=t[Math.floor(Math.random()*t.length)];s.value.length===0&&(n.value=0),c.id=++n.value;const R=w({},c);s.value=[...s.value.slice(0,r),R,...s.value.slice(r)],a.value=!1},500)},k=()=>{a.value=!0,setTimeout(()=>{const r=Math.floor(Math.random()*s.value.length);s.value=[...s.value.slice(0,r),...s.value.slice(r+1)],a.value=!1},500)};return(r,c)=>(x(),A(F,null,[l(J),d("div",L,[l(z,{title:"Repuestos",rows:s.value,columns:o,"row-key":"id",filter:u.value,loading:a.value},{top:i(()=>[l(h,{color:"primary",disable:a.value,label:"Add row",onClick:m},null,8,["disable"]),l(h,{class:"q-ml-sm",color:"primary",disable:a.value,label:"Remove row",onClick:k},null,8,["disable"]),l(P),l(I,{modelValue:u.value,"onUpdate:modelValue":c[0]||(c[0]=R=>u.value=R),borderless:"",dense:"",debounce:"300",color:"primary"},{append:i(()=>[l(S,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["rows","filter","loading"])])],64))}};var le=y(W,[["__scopeId","data-v-7b9df800"]]);export{le as default};
