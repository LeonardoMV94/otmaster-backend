import{b as p,Q as _}from"./QItem.a3d8980f.js";import{ce as D,ap as A,ao as B,n as l,aA as N,Y as U,a4 as e,b3 as o,Z as t,z as m,bR as v,co as j,bS as R,ck as q,aD as E,aB as O,a3 as f}from"./index.6afc27b2.js";import{h as b}from"./ClosePopup.93d4e85d.js";import{Q as z}from"./QForm.987b0ae1.js";import{u as M}from"./useCliente.5bf51854.js";import{u as Y}from"./useColaboradores.6f4aa195.js";import{u as Z}from"./useDispositivo.fdf8364c.js";import{u as G}from"./useTickets.c6a9d95f.js";import"./Notifications.3fd28b16.js";const H=i=>(E("data-v-cecd7884"),i=i(),O(),i),J={style:{width:"700px","max-width":"80vw"}},K=H(()=>t("h4",{class:"text-center"},"Crear Ticket (OT)",-1)),L={class:"row"},P={class:"col"},W=f(" No hay Clientes "),X={class:"row"},$={class:"col"},ee=f(" No hay colaboradores "),oe={class:"row"},te={class:"col"},ae=f(" No hay dispositivos "),se={class:"row"},le={class:"col"},ie={class:"row justify-center"},ne={__name:"FormTicket",setup(i){const{getAllClientes:y,getClientesSelect:w}=M(),{getAllColaboradores:V,getColaboradoresSelect:g}=Y(),{getAllDispositivos:C,getDispositivosSelect:x}=Z(),{createTicket:Q}=G();A(async()=>{await h()}),B(async()=>{await h()});const h=async()=>{await y(),await V(),await C()},S=w.value,n=l(null),I=g.value,c=l(null),r=l(null),k=x.value;console.log("####sdasdasd: ",k);const d=l(null),T=l(1),F=async()=>{const u={clientesRutCliente:n.value,colaboradoresRutColaborador:c.value,dispositivosIdDispositivo:r.value,problema_ticket:d.value,estado_ticket:T.value};await Q(u)};return(u,a)=>(N(),U("div",J,[e(q,{class:"q-pa-sm"},{default:o(()=>[K,e(z,{onSubmit:F},{default:o(()=>[t("div",L,[t("div",P,[e(b,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=s=>n.value=s),outlined:"","use-input":"","input-debounce":"0",label:"Elija un cliente","map-options":"","emit-value":"",options:m(S),behavior:"menu",onFilter:u.filterFn},{"no-option":o(()=>[e(p,null,{default:o(()=>[e(_,{class:"text-grey"},{default:o(()=>[W]),_:1})]),_:1})]),append:o(()=>[e(v,{name:"person",color:"black"})]),_:1},8,["modelValue","options","onFilter"])])]),t("div",X,[t("div",$,[e(b,{modelValue:c.value,"onUpdate:modelValue":a[1]||(a[1]=s=>c.value=s),outlined:"","use-input":"","input-debounce":"0","map-options":"","emit-value":"",label:"Colaborador que atiende",options:m(I),behavior:"menu"},{"no-option":o(()=>[e(p,null,{default:o(()=>[e(_,{class:"text-grey"},{default:o(()=>[ee]),_:1})]),_:1})]),append:o(()=>[e(v,{name:"support_agent",color:"black"})]),_:1},8,["modelValue","options"])])]),t("div",oe,[t("div",te,[e(b,{modelValue:r.value,"onUpdate:modelValue":a[2]||(a[2]=s=>r.value=s),outlined:"","use-input":"","map-options":"","emit-value":"","input-debounce":"0",label:"Dispositivo a reparar",options:m(k),behavior:"menu"},{"no-option":o(()=>[e(p,null,{default:o(()=>[e(_,{class:"text-grey"},{default:o(()=>[ae]),_:1})]),_:1})]),append:o(()=>[e(v,{name:"devices_other",color:"black"})]),_:1},8,["modelValue","options"])])]),t("div",se,[t("div",le,[e(j,{modelValue:d.value,"onUpdate:modelValue":a[3]||(a[3]=s=>d.value=s),label:"Describa el problema... *",type:"textarea",outlined:""},null,8,["modelValue"])])]),t("div",ie,[e(R,{label:"Agregar",type:"submit",color:"primary"})])]),_:1})]),_:1})]))}};var fe=D(ne,[["__scopeId","data-v-cecd7884"]]);export{fe as default};
