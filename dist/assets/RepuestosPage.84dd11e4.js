var B=Object.defineProperty;var b=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var f=(e,o,s)=>o in e?B(e,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[o]=s,w=(e,o)=>{for(var s in o||(o={}))N.call(o,s)&&f(e,s,o[s]);if(b)for(var s of b(o))T.call(o,s)&&f(e,s,o[s]);return e};import{c8 as Q,ca as V,cb as _,V as $,cd as y,n as p,aA as x,Y as A,a4 as l,b3 as i,Z as d,ce as I,bR as S,bS as h,cN as C,aD as q,aB as M,K as F}from"./index.5404b0db.js";import{a as z,Q as P}from"./QTable.d145fbc0.js";import{Q as D}from"./QForm.5d83addf.js";import{c as g}from"./Notifications.cd9f2894.js";import"./QItem.1864d98b.js";const v=Q(),E=V("repuestos",{state:()=>({repuestos:[]}),getters:{getRepuestos:e=>e.repuestos},actions:{async getAllRepuestos(){const e=await v.getToken;if(e=="")return this.repuestos;const{data:o}=await _.get("/repuestos/",{headers:{Authorization:`Bearer ${e}`}});console.log("getAllMarcaDispositivos ACTIONS: ",o),this.repuestos=o},async createRepuesto(e){console.log("createRepuesto: ",e);const o=v.getToken;await _.post("/repuestos/add/",e,{headers:{Authorization:`Bearer ${o}`}}).then(s=>{g(`Repuesto ${s.data.id_repuesto} creado exitosamente!`,"positive"),console.log(s)}).catch(s=>{g(s.response.data.message,"negative"),console.log("Error",s.response.data.message)}),this.getAllRepuestos()},async deleteRepuesto(e){const o=v.getToken;await _.delete(`repuestos/delete/${e}`,{headers:{Authorization:`Bearer ${o}`}}).then(({data:s})=>{g(`Repuesto ${s.id} eliminado exitosamente!`,"negative"),console.log("antes ",this.repuestos),this.repuestos=this.repuestos.filter(a=>a.id_repuesto!==e),console.log("despues",this.repuestos),console.log("deleteRepuesto ACTIONS: ",s)}).catch(s=>{console.log("deleteRepuesto ACTIONS: ",s.response.data.message),g(s.response.data.message,"negative"),console.log("Error",s.response.data.message)})}}}),O=()=>{const e=E();return{getAllRepuestos:async()=>{await e.getAllRepuestos()},getRepuestoById:async t=>{await e.getRepuestoById(t)},createNewRepuesto:async t=>{console.log("createRepuesto ",t),await e.createRepuesto(t)},updateRepuesto:async(t,m)=>{console.log("updateRepuesto",t,m),await e.updateRepuesto(t,m)},deleteRepuesto:async t=>{console.log("deleteRepuesto useRepuesto: ",t),await e.deleteRepuesto(t)},getRepuestos:$(()=>e.getRepuestos)}};const U=e=>(q("data-v-6a8e0ca2"),e=e(),M(),e),K={class:"q-pa-xl",style:{"max-width":"700px"}},Y=U(()=>d("h4",{class:"text-center"},"Administraci\xF3n de Repuestos",-1)),Z={class:"row"},j={class:"col"},G={class:"row justify-center"},H={__name:"FormRepuesto",setup(e){const o=p(null),{createNewRepuesto:s}=O(),a=()=>{console.log("Se envi\xF3 prueba de formulario");const u={repuesto:o.value};s(u)};return(u,n)=>(x(),A("div",K,[Y,l(C,{class:"q-pa-md"},{default:i(()=>[l(D,{onSubmit:a},{default:i(()=>[d("div",Z,[d("div",j,[l(I,{modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=t=>o.value=t),"label-color":"primary",outlined:"",label:"Nombre del Repuesto","lazy-rules":"",rules:[t=>!!t||"Se requiere que escriba un repuesto"]},{append:i(()=>[l(S,{name:"build_circle",color:"black"})]),_:1},8,["modelValue","rules"])])]),d("div",G,[l(h,{label:"Agregar",type:"submit",color:"primary"})])]),_:1})]),_:1})]))}};var J=y(H,[["__scopeId","data-v-6a8e0ca2"]]);const L={class:"q-pa-xl",style:{"max-width":"700px"}},W={__name:"RepuestosPage",setup(e){const o=[{name:"idRepuesto",required:!0,label:"ID",align:"center",field:r=>r.idRepuesto,format:r=>`${r}`,sortable:!0},{name:"nombreRepuesto",align:"center",label:"Nombre del Repuesto",field:"nombreRepuesto",sortable:!0}],s=[{idRepuesto:"122",nombreRepuesto:"Pantalla de Touch ID"},{idRepuesto:"313",nombreRepuesto:"Bater\xEDa Samsung"}],a=p(!1),u=p(""),n=p(10),t=p([...s]),m=()=>{a.value=!0,setTimeout(()=>{const r=Math.floor(Math.random()*(t.value.length+1)),c=s[Math.floor(Math.random()*s.length)];t.value.length===0&&(n.value=0),c.id=++n.value;const R=w({},c);t.value=[...t.value.slice(0,r),R,...t.value.slice(r)],a.value=!1},500)},k=()=>{a.value=!0,setTimeout(()=>{const r=Math.floor(Math.random()*t.value.length);t.value=[...t.value.slice(0,r),...t.value.slice(r+1)],a.value=!1},500)};return(r,c)=>(x(),A(F,null,[l(J),d("div",L,[l(z,{title:"Repuestos",rows:t.value,columns:o,"row-key":"id",filter:u.value,loading:a.value},{top:i(()=>[l(h,{color:"primary",disable:a.value,label:"Add row",onClick:m},null,8,["disable"]),l(h,{class:"q-ml-sm",color:"primary",disable:a.value,label:"Remove row",onClick:k},null,8,["disable"]),l(P),l(I,{modelValue:u.value,"onUpdate:modelValue":c[0]||(c[0]=R=>u.value=R),borderless:"",dense:"",debounce:"300",color:"primary"},{append:i(()=>[l(S,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["rows","filter","loading"])])],64))}};var le=y(W,[["__scopeId","data-v-7b9df800"]]);export{le as default};
