var I=Object.defineProperty;var h=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var x=(a,r,l)=>r in a?I(a,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[r]=l,V=(a,r)=>{for(var l in r||(r={}))M.call(r,l)&&x(a,l,r[l]);if(h)for(var l of h(r))F.call(r,l)&&x(a,l,r[l]);return a};import{cd as k,n as i,ap as N,ao as U,aA as A,Y as R,a4 as e,b3 as u,Z as n,ce as S,bR as p,z as B,bS as w,cN as $,aD as q,aB as P,a3 as T,K as j}from"./index.5404b0db.js";import{b as D,a as z,Q as E}from"./QTable.d145fbc0.js";import{b as J,Q as K}from"./QItem.1864d98b.js";import{Q as L}from"./QForm.5d83addf.js";import{u as O}from"./useRoles.2a65e96a.js";import{u as Y}from"./useColaboradores.03c91537.js";import"./Notifications.cd9f2894.js";const Z=a=>(q("data-v-e4974226"),a=a(),P(),a),G={class:"q-pa-lg",style:{"max-width":"700px"}},H=Z(()=>n("h4",{class:"text-center"},"Agregar un Colaborador",-1)),W={class:"row"},X={class:"col"},ee={class:"row"},oe={class:"col"},ae={class:"col"},le={class:"row"},re={class:"col"},se={class:"col"},te=T(" No hay roles "),de={class:"row"},ne={class:"col"},ue={class:"row justify-center"},ie={__name:"FormColaborador",setup(a){const{getAllRoles:r,getRolestoSelect:l,getRoles:c}=O(),{createColaborador:_}=Y(),v=i(null),s=i(null),C=i(null),g=i(null),t=i(null),b=i(null),m=i(!0),y=l.value;console.log("dispositivos getRolesSelect: ",y,c.value);const Q=()=>{const f={rut_colaborador:v.value,password_colaborador:t.value,nombre_colaborador:s.value,apmat_colaborador:g.value,appat_colaborador:C.value,rolesIdRol:b.value};console.log("FormColab: ",f),_(f)};return N(async()=>{await r()}),U(async()=>{await r()}),(f,d)=>(A(),R("div",G,[e($,{class:"q-pa-md"},{default:u(()=>[H,e(L,{onSubmit:Q},{default:u(()=>[n("div",W,[n("div",X,[e(S,{modelValue:v.value,"onUpdate:modelValue":d[0]||(d[0]=o=>v.value=o),modelModifiers:{number:!0},"label-color":"primary",outlined:"",label:"Rut del Colaborador",mask:"########","unmasked-value":"",clearable:"",rules:[o=>!!o||"Se requiere un rut"]},{append:u(()=>[e(p,{name:"badge",color:"black"})]),_:1},8,["modelValue","rules"])])]),n("div",ee,[n("div",oe,[e(S,{modelValue:s.value,"onUpdate:modelValue":d[1]||(d[1]=o=>s.value=o),"label-color":"primary",outlined:"",label:"Nombre del Colaborador",mask:"SSSSSSSSSSSSSSSSSSSS","unmasked-value":"",clearable:"",rules:[o=>!!o||"Se requiere que escriba un nombre"]},{append:u(()=>[e(p,{name:"engineering",color:"black"})]),_:1},8,["modelValue","rules"])]),n("div",ae,[e(S,{modelValue:C.value,"onUpdate:modelValue":d[2]||(d[2]=o=>C.value=o),color:"grey-3","label-color":"primary",outlined:"",label:"Apellido Paterno",mask:"SSSSSSSSSSSSSSSSSSSS","unmasked-value":"",clearable:"",rules:[o=>!!o||"Se requiere que escriba un apellido"]},{append:u(()=>[e(p,{name:"engineering",color:"black"})]),_:1},8,["modelValue","rules"])])]),n("div",le,[n("div",re,[e(S,{modelValue:g.value,"onUpdate:modelValue":d[3]||(d[3]=o=>g.value=o),color:"grey-3","label-color":"primary",outlined:"",label:"Apellido Materno",mask:"SSSSSSSSSSSSSSSSSSSS","unmasked-value":"",clearable:"",rules:[o=>!!o||"Se requiere que escriba un apellido"]},{append:u(()=>[e(p,{name:"engineering",color:"black"})]),_:1},8,["modelValue","rules"])]),n("div",se,[e(D,{modelValue:b.value,"onUpdate:modelValue":d[4]||(d[4]=o=>b.value=o),"label-color":"primary",outlined:"","input-debounce":"0",label:"Rol Colaborador ","map-options":"","emit-value":"",behavior:"menu",options:B(y)},{"no-option":u(()=>[e(J,null,{default:u(()=>[e(K,{class:"text-grey"},{default:u(()=>[te]),_:1})]),_:1})]),append:u(()=>[e(p,{name:"attribution",color:"black"})]),_:1},8,["modelValue","options"])])]),n("div",de,[n("div",ne,[e(S,{modelValue:t.value,"onUpdate:modelValue":d[6]||(d[6]=o=>t.value=o),outlined:"","label-color":"primary",type:m.value?"password":"text",label:"Contrase\xF1a Colaborador",clearable:"",rules:[o=>!!o||"Se requiere que escriba una contrase\xF1a"]},{append:u(()=>[e(p,{name:m.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:d[5]||(d[5]=o=>m.value=!m.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"])])]),n("div",ue,[e(w,{label:"Agregar",type:"submit",color:"primary"})])]),_:1})]),_:1})]))}};var ce=k(ie,[["__scopeId","data-v-e4974226"]]);const be=a=>(q("data-v-abd046b4"),a=a(),P(),a),me={class:"q-pa-lg",style:{"max-width":"1400px"}},pe=be(()=>n("h4",{class:"text-center"},"Colaboradores Registrados",-1)),ve={__name:"ColaboradoresPage",setup(a){const r=[{name:"idColaborador",required:!0,label:"ID",align:"center",field:t=>t.idColaborador,format:t=>`${t}`,sortable:!0},{name:"nombreColaborador",align:"center",label:"Nombre",field:"nombreColaborador",sortable:!0},{name:"APpatColaborador",align:"center",label:"Apellido Paterno",field:"APpatColaborador",sortable:!0},{name:"APmatColaborador",align:"center",label:"Apellido Materno",field:"APmatColaborador",sortable:!0},{name:"passColaborador",align:"center",label:"Password",field:"passColaborador",sortable:!0},{name:"rolColaborador",align:"center",label:"Tipo de Rol",field:"rolColaborador",sortable:!0}],l=[{idColaborador:"123213",nombreColaborador:"Luis",APpatColaborador:"Jara",APmatColaborador:"Mouche",passColaborador:"xxxxxx",rolColaborador:"Admin"}],c=i(!1),_=i(""),v=i(10),s=i([...l]),C=()=>{c.value=!0,setTimeout(()=>{const t=Math.floor(Math.random()*(s.value.length+1)),b=l[Math.floor(Math.random()*l.length)];s.value.length===0&&(v.value=0),b.id=++v.value;const m=V({},b);s.value=[...s.value.slice(0,t),m,...s.value.slice(t)],c.value=!1},500)},g=()=>{c.value=!0,setTimeout(()=>{const t=Math.floor(Math.random()*s.value.length);s.value=[...s.value.slice(0,t),...s.value.slice(t+1)],c.value=!1},500)};return(t,b)=>(A(),R(j,null,[e(ce),n("div",me,[pe,e(z,{title:"Colaboradores",rows:s.value,columns:r,"row-key":"id",filter:_.value,loading:c.value},{top:u(()=>[e(w,{color:"primary",disable:c.value,label:"Add row",onClick:C},null,8,["disable"]),e(w,{class:"q-ml-sm",color:"primary",disable:c.value,label:"Remove row",onClick:g},null,8,["disable"]),e(E),e(S,{modelValue:_.value,"onUpdate:modelValue":b[0]||(b[0]=m=>_.value=m),borderless:"",dense:"",debounce:"300",color:"primary"},{append:u(()=>[e(p,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["rows","filter","loading"])])],64))}};var xe=k(ve,[["__scopeId","data-v-abd046b4"]]);export{xe as default};
